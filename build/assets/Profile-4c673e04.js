import{j as e}from"./index-e9055987.js";import{I as d}from"./Input-cff490ba.js";import{A as f}from"./index-48bcc748.js";import{U as N}from"./Upload-73c59612.js";import{B as g}from"./Button-ba65fcd6.js";import{S as q,c as C}from"./Select-3959542b.js";import{S as F}from"./Switcher-fc6ab2a0.js";import{t as R,N as P}from"./toast-38b8809c.js";import{F as S}from"./FormItem-ea0b05bc.js";import{F as b,a as i}from"./FormRow-164095a5.js";import{F as T,a as w,b as o}from"./formik.esm-026afa26.js";import{L,k as O,ao as U,ap as k,aq as A,E as D}from"./index.esm-1ac4f407.js";import{c as E,a as t,e as H,b as I}from"./index.esm-6e43d029.js";import"./Views-51136580.js";import"./isNil-1a93575e.js";import"./get-c3140d19.js";import"./_MapCache-0feb66c1.js";import"./Tooltip-c9ef7fc2.js";import"./warning-6ee4a779.js";import"./index-8f83c5d8.js";import"./motion-4061acbd.js";import"./cloneDeep-860e24f8.js";import"./_Uint8Array-1ce16692.js";import"./_getPrototype-241bf201.js";import"./CloseButton-3f8e850c.js";import"./StatusIcon-879e2680.js";const{Control:Z}=C,z=E().shape({name:t().min(3,"Too Short!").max(12,"Too Long!").required("User Name Required"),email:t().email("Invalid email").required("Email Required"),title:t(),avatar:t(),timeZone:t(),lang:t(),syncData:H(),storeLogo:t().required("Store Logo Required"),identifier:t().required("Identifier Required"),address:t().required("Address Required"),township:t().required("Township Required"),availableMoney:I().required("Available Money Required"),phone:t().required("Phone Required"),storeName:t().required("Store Name Required")}),y=[{value:"en",label:"English (US)",imgPath:"/img/countries/us.png"},{value:"ch",label:"中文",imgPath:"/img/countries/cn.png"},{value:"jp",label:"日本语",imgPath:"/img/countries/jp.png"},{value:"fr",label:"French",imgPath:"/img/countries/fr.png"}],M=({innerProps:p,label:s,data:c,isSelected:a})=>e.jsxs("div",{className:`flex items-center justify-between p-2 ${a?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"}`,...p,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{shape:"circle",size:20,src:c.imgPath}),e.jsx("span",{className:"ml-2 rtl:mr-2",children:s})]}),a&&e.jsx(D,{className:"text-emerald-500 text-xl"})]}),$=({children:p,...s})=>{const c=s.getValue()[0];return e.jsxs(Z,{...s,children:[c&&e.jsx(f,{className:"ltr:ml-4 rtl:mr-4",shape:"circle",size:18,src:c.imgPath}),p]})},fe=({data:p={name:"",email:"",title:"",avatar:"",timeZone:"",lang:"",syncData:!1,storeLogo:"",identifier:"",address:"",township:"",availableMoney:0,phone:"",storeName:""}})=>{const s=(a,l,x)=>{a.setFieldValue(l.name,URL.createObjectURL(x[0]))},c=(a,l)=>{console.log("values",a),R.push(e.jsx(P,{title:"Profile updated",type:"success"}),{placement:"top-center"}),l(!1)};return e.jsx(T,{enableReinitialize:!0,initialValues:p,validationSchema:z,onSubmit:(a,{setSubmitting:l})=>{l(!0),setTimeout(()=>{c(a,l)},1e3)},children:({values:a,touched:l,errors:x,isSubmitting:j,resetForm:v})=>{const r={touched:l,errors:x};return e.jsx(w,{children:e.jsxs(S,{children:[e.jsx(b,{title:"General",desc:"Basic info, like your name and address that will displayed in public"}),e.jsx(i,{name:"avatar",label:"Avatar",...r,children:e.jsx(o,{name:"avatar",children:({field:n,form:u})=>{const m=n.value?{src:n.value}:{};return e.jsx(N,{className:"cursor-pointer",showList:!1,uploadLimit:1,onChange:h=>s(u,n,h),onFileRemove:h=>s(u,n,h),children:e.jsx(f,{className:"border-2 border-white dark:border-gray-800 shadow-lg",size:60,shape:"circle",icon:e.jsx(L,{}),...m})})}})}),e.jsx(i,{name:"storeName",label:"Nombre de la Tienda",...r,children:e.jsx(o,{type:"text",autoComplete:"off",name:"storeName",placeholder:"storeName",component:d,prefix:e.jsx(O,{className:"text-xl"})})}),e.jsx(i,{name:"identifier",label:"Identificador",...r,children:e.jsx(o,{type:"text",autoComplete:"off",name:"identifier",placeholder:"Identificador",component:d})}),e.jsx(i,{name:"email",label:"Email",...r,border:!1,children:e.jsx(o,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:d,prefix:e.jsx(U,{className:"text-xl"})})}),e.jsx(i,{name:"phone",label:"Teléfono Móvil",...r,children:e.jsx(o,{type:"text",autoComplete:"off",name:"phone",placeholder:"Teléfono",component:d})}),e.jsx(i,{name:"title",label:"Title",...r,border:!1,children:e.jsx(o,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:d,prefix:e.jsx(k,{className:"text-xl"})})}),e.jsx(b,{className:"mt-8",title:"Preferences",desc:"Your personalized preference displayed in your account"}),e.jsx(i,{name:"lang",label:"Language",...r,children:e.jsx(o,{name:"lang",children:({field:n,form:u})=>e.jsx(q,{field:n,form:u,options:y,components:{Option:M,Control:$},value:y.filter(m=>m.value===(a==null?void 0:a.lang)),onChange:m=>u.setFieldValue(n.name,m==null?void 0:m.value)})})}),e.jsx(i,{name:"timeZone",label:"Time Zone",...r,children:e.jsx(o,{readOnly:!0,type:"text",autoComplete:"off",name:"timeZone",placeholder:"Time Zone",component:d,prefix:e.jsx(A,{className:"text-xl"})})}),e.jsx(i,{name:"syncData",label:"Sync Data",...r,border:!1,children:e.jsx(o,{name:"syncData",component:F})}),e.jsxs("div",{className:"mt-4 ltr:text-right",children:[e.jsx(g,{className:"ltr:mr-2 rtl:ml-2",type:"button",onClick:()=>v(),children:"Reset"}),e.jsx(g,{variant:"solid",loading:j,type:"submit",children:j?"Updating":"Update"})]})]})})}})};export{fe as default};
