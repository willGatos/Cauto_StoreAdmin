import{r as h,j as e,b5 as L}from"./index-e9055987.js";import{B as f}from"./Button-ba65fcd6.js";import{F as C,a as n}from"./FormItem-ea0b05bc.js";import{S as N}from"./Select-3959542b.js";import{I as p}from"./Input-cff490ba.js";import{F as y,a as w,b as d}from"./formik.esm-026afa26.js";import{aw as M}from"./index.esm-1ac4f407.js";import{c as F,a as m}from"./index.esm-6e43d029.js";import"./index-8f83c5d8.js";import"./motion-4061acbd.js";import"./Views-51136580.js";import"./get-c3140d19.js";import"./_MapCache-0feb66c1.js";import"./isNil-1a93575e.js";const S=F().shape({storeName:m().required("Nombre de la tienda requerido").min(3,"Demasiado corto, mínimo 3 caracteres").max(12,"Demasiado largo, máximo 12 caracteres"),identifier:m().matches(/^[a-z]+$/,"Debe solo contener letras minúsculas").required("Identificador requerido"),address:m().required("Dirección requerida"),township:m().required("Municipio requerido")}),x=[{label:"Cerro",value:"Cerro"},{label:"Diez de Octubre",value:"Diez de Octubre"},{label:"Habana Vieja",value:"Habana Vieja"},{label:"Centro Habana",value:"Centro Habana"},{label:"Plaza de la Revolución",value:"Plaza de la Revolución"},{label:"Playa",value:"Playa"},{label:"Marianao",value:"Marianao"},{label:"La Lisa",value:"La Lisa"},{label:"Boyeros",value:"Boyeros"},{label:"Cotorro",value:"Cotorro"},{label:"Arroyo Naranjo",value:"Arroyo Naranjo"},{label:"Guanabacoa",value:"Guanabacoa"},{label:"Habana del Este",value:"Habana del Este"},{label:"Regla",value:"Regla"},{label:"San Miguel del Padrón",value:"San Miguel del Padrón"}];function _({storeData:a,setStoreData:u=()=>{},onNext:c,onBack:v}){const[g,b]=h.useState(!1);return h.useState(""),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"mb-2",children:"Datos de tu Empresa"}),e.jsx("div",{className:"mt-8 max-w-[600px] lg:min-w-[600px] mx-auto",children:e.jsx(y,{initialValues:{storeName:a.storeName,storeLogo:a.storeLogo,identifier:a.identifier,address:a.address,township:a.township,availableMoney:a.availableMoney,email:a.email,phone:a.phone},validationSchema:S,onSubmit:s=>{console.log(s),console.log(a),u(i=>({...s,storeLogo:i.storeLogo})),c==null||c()},children:({values:s,touched:i,errors:l})=>e.jsxs(w,{children:[g&&e.jsx("div",{children:"Cargando..."}),e.jsxs(C,{children:[e.jsx(n,{label:"Nombre de la Empresa",invalid:l.storeName&&i.storeName,errorMessage:l.storeName,children:e.jsx(d,{type:"text",autoComplete:"off",name:"storeName",placeholder:"Nombre de la Empresa",component:p})}),(a==null?void 0:a.storeLogo)&&e.jsx("img",{src:"http://localhost:3000/uploads/thn-"+(a==null?void 0:a.storeLogo),alt:""}),e.jsx(n,{label:"Logo de la Empresa (Opcional)",children:e.jsx("input",{title:"storeLogo",type:"file",multiple:!0,name:"storeLogo",onChange:t=>{b(!0);const r=new FormData;r.append("file",t.target.files[0]),r.append("upload_preset","service"),L.post("http://localhost:3000/upload/shopIcon",r).then(o=>(u(j=>({...j,storeLogo:o.data.fileName})),console.log(o.data.fileName),o)),b(!1)},accept:"image/*",className:"mt-4"})}),e.jsx(n,{label:"Identificador",invalid:l.identifier&&i.identifier,errorMessage:l.identifier,children:e.jsx(d,{type:"text",autoComplete:"off",name:"identifier",placeholder:"Identificador",component:p})}),e.jsx(n,{label:"Municipio",invalid:l.township&&i.township,errorMessage:l.township,children:e.jsx(d,{name:"township",children:({field:t,form:r})=>e.jsx(N,{placeholder:"Municipio",field:t,form:r,options:x,value:x.filter(o=>o.value===s.township),onChange:o=>r.setFieldValue(t.name,o==null?void 0:o.value)})})}),e.jsx(n,{label:"Dirección",invalid:l.address&&i.address,errorMessage:l.address,children:e.jsx(d,{type:"text",autoComplete:"off",name:"address",placeholder:"Dirección",component:p})}),e.jsxs(n,{children:[e.jsx(f,{block:!0,variant:"solid",type:"submit",children:"Continuar"}),e.jsx(f,{block:!0,className:"mt-4",variant:"plain",type:"button",icon:e.jsx(M,{}),onClick:v,children:"Atrás"})]})]})]})})})]})}export{_ as default};
