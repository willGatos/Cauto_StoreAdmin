import{j as e,aw as m,r as i}from"./index-e9055987.js";import{T as x}from"./index-95867d9f.js";import{u as g,g as h,e as f,f as d}from"./index-f0b8471c.js";import{a3 as R,a4 as S}from"./index.esm-1ac4f407.js";import{s as y}from"./AttributeService-ad28792a.js";const{Tr:c,Th:j,Td:p,THead:C,TBody:b}=x;function T({renderRowSubComponent:t,getRowCanExpand:r}){const[l,a]=m.useState([]);m.useEffect(()=>{y.getSupplies().then(a)},[]);const s=i.useMemo(()=>[{header:()=>null,id:"expander",cell:({row:n})=>e.jsx(e.Fragment,{children:n.getCanExpand()?e.jsx("button",{className:"text-lg",onClick:n.getToggleExpandedHandler(),children:n.getIsExpanded()?e.jsx(R,{}):e.jsx(S,{})}):null})},{header:"Nombre",accessorKey:"name"},{header:"Moneda",accessorKey:"currency"},{header:"Tipo",accessorFn:n=>n.type==="Fixed"?"Fijo":"Variable"}],[]),u=g({data:l,columns:s,getRowCanExpand:r,getCoreRowModel:h(),getExpandedRowModel:f()});return e.jsx(e.Fragment,{children:e.jsxs(x,{children:[e.jsx(C,{children:u.getHeaderGroups().map(n=>e.jsx(c,{children:n.headers.map(o=>e.jsx(j,{colSpan:o.colSpan,children:d(o.column.columnDef.header,o.getContext())},o.id))},n.id))}),e.jsx(b,{children:u.getRowModel().rows.map(n=>e.jsxs(i.Fragment,{children:[e.jsx(c,{children:n.getVisibleCells().map(o=>e.jsx(p,{children:d(o.column.columnDef.cell,o.getContext())},o.id))}),n.getIsExpanded()&&e.jsx(c,{children:e.jsx(p,{colSpan:n.getVisibleCells().length,children:t({row:n})})})]},n.id))})]})})}const M=({data:t})=>{const r=i.useMemo(()=>[{header:"Costo",accessorKey:"cost"},{header:"Costo",accessorKey:"currency.name"},{header:"Descripción",accessorKey:"description"},{header:"Medida",accessorKey:"measure"},{header:"Fecha de Creación",accessorFn:a=>new Date(a.created_at).toLocaleString()}],[]),l=g({data:t,columns:r,getCoreRowModel:h()});return e.jsxs(x,{children:[e.jsx(C,{children:e.jsx(c,{children:l.getHeaderGroups().map(a=>e.jsx(i.Fragment,{children:a.headers.map(s=>e.jsx(j,{colSpan:s.colSpan,children:d(s.column.columnDef.header,s.getContext())},s.id))},a.id))})}),e.jsx(b,{children:l.getRowModel().rows.map(a=>e.jsx(c,{children:a.getVisibleCells().map(s=>e.jsx(p,{children:d(s.column.columnDef.cell,s.getContext())},s.id))},a.id))})]})},E=({row:t})=>{const r=t.original.supply_variation||[];return e.jsx(M,{data:r})},F=()=>e.jsx(T,{renderRowSubComponent:E,getRowCanExpand:t=>t.original.supply_variation&&t.original.supply_variation.length>0});function V(){return e.jsx(F,{})}export{V as default};
