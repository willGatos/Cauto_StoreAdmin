import{r as p,aw as D,j as o}from"./index-e9055987.js";import{u as M,f as l,g as k,a as v,b as B,d as E}from"./index-f0b8471c.js";import{c as F,d as H,g as n,a as _,b as A}from"./AttributeService-ad28792a.js";import"./Alert-102e0217.js";import"./index-48bcc748.js";import"./Badge-9568a8b0.js";import"./Button-ba65fcd6.js";import"./Card-433b6df5.js";import"./index-0b16cfb5.js";import"./index-6ec4b8b8.js";import"./Dialog-0f29b530.js";import"./Drawer-1d10f851.js";import"./ScrollBar-7cb0876a.js";import"./FormItem-ea0b05bc.js";import"./Input-cff490ba.js";import"./index-cba86877.js";import"./index-fd641029.js";import"./toast-38b8809c.js";import"./Skeleton-ede84c2e.js";import"./index-6bfd69bd.js";import"./index-ca92c429.js";import"./Select-3959542b.js";import"./Switcher-fc6ab2a0.js";import{T as u}from"./index-95867d9f.js";import"./index-470afdad.js";import"./Tag-0c9ab60f.js";import"./index-b1813226.js";import"./Tooltip-c9ef7fc2.js";import"./Upload-73c59612.js";import"./StatusIcon-879e2680.js";import"./index.esm-1ac4f407.js";import"./CloseButton-3f8e850c.js";import"./motion-4061acbd.js";import"./cloneDeep-860e24f8.js";import"./_Uint8Array-1ce16692.js";import"./_MapCache-0feb66c1.js";import"./Views-51136580.js";import"./_getPrototype-241bf201.js";import"./_baseIsEqual-7de73e16.js";import"./get-c3140d19.js";import"./useControllableState-461bebfa.js";import"./useRootClose-9a8a5c26.js";import"./useDidUpdate-5adca6d0.js";import"./index-1248b5e2.js";import"./warning-6ee4a779.js";import"./useUncertainRef-63de6025.js";import"./isNil-1a93575e.js";import"./index-8f83c5d8.js";const Bt=({shopId:r})=>{const[h,g]=p.useState([]),[x,S]=p.useState([]),[s,c]=p.useState([]),[i,f]=p.useState(null);p.useEffect(()=>{(async()=>{const e=await _(r),a=await A(r),T=await n(r);g(e),S(a),c(T)})()},[r]);const j=D.useMemo(()=>[{header:"Supply",accessorKey:"name"},{header:"Associated",accessorFn:t=>s.some(e=>e.product_id===i&&e.supply_id===t.id),cell:({getValue:t})=>o.jsx("input",{type:"checkbox",checked:t(),onChange:e=>R(row.id,e.target.checked)})}],[s,i]),{Tr:m,Th:w,Td:y,THead:P,TBody:b}=u,d=M({data:x,columns:j,getCoreRowModel:k,getFilteredRowModel:v,getPaginationRowModel:B,getSortedRowModel:E}),C=t=>{f(Number(t.target.value))},R=async(t,e)=>{if(i===null)return;e?await F(i,t,1,r):await H(i,t);const a=await n(r);c(a)};return o.jsxs("div",{children:[o.jsxs("select",{onChange:C,children:[o.jsx("option",{value:"",children:"Select a product"}),h.map(t=>o.jsx("option",{value:t.id,children:t.name},t.id))]}),o.jsxs(u,{children:[o.jsx(P,{children:d.getHeaderGroups().map(t=>o.jsx(m,{children:t.headers.map(e=>o.jsx(w,{children:l(e.column.columnDef.header,e.getContext())},e.id))},t.id))}),o.jsx(b,{children:d.getRowModel().rows.map(t=>o.jsx(m,{children:t.getVisibleCells().map(e=>o.jsx(y,{children:l(e.column.columnDef.cell,e.getContext())},e.id))},t.id))})]})]})};export{Bt as default};
