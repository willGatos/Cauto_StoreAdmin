import{r as h,j as g,c as Y,az as at,aF as it,aG as lt,al as Pe}from"./index-e9055987.js";import{u as Fe}from"./useUncertainRef-63de6025.js";import{i as he}from"./isNil-1a93575e.js";import{u as ve,a as st}from"./useRootClose-9a8a5c26.js";import{A as ut}from"./index-8f83c5d8.js";import{m as ct}from"./motion-4061acbd.js";import{c as ie}from"./toast-38b8809c.js";import{a8 as je,D as Ue,a9 as dt,aa as ft}from"./index.esm-1ac4f407.js";import{p as ht}from"./warning-6ee4a779.js";const ze=h.createContext(null),vt=ze.Provider,ge=h.createContext({}),Be=ge.Provider;ge.Consumer;function Ve(t){const[n,o]=h.useState(!1),[a,u]=h.useState([]),[y,c]=h.useState(null),v=h.useRef(null),_=h.useCallback((T,S)=>{u(z=>[...z,{element:T,props:S}])},[]),d=h.useCallback(T=>{u(S=>S.filter(z=>{var D;return((D=z==null?void 0:z.element)==null?void 0:D.id)!==T}))},[]),E=h.useCallback(()=>{requestAnimationFrame(()=>{var T;document.activeElement!==t.current&&(v.current=document.activeElement,(T=t.current)==null||T.focus())})},[t]),M=h.useCallback(T=>{const S=a.indexOf(T);S!==-1&&(c(S),E())},[a,E]),H=h.useCallback((T,S)=>{var z;for(let D=T;D>-1&&D<a.length;D+=S)if(!((z=a[D].props)!=null&&z.disabled))return D;return null},[a]),L=h.useCallback(T=>{if(he(T))c(null),E();else{let S;T===0?S=H(0,1):T===-1&&(S=H(a.length-1,-1)),he(S)||M(a[S])}},[a,M,E,H]),V=h.useCallback(()=>{o(!0),E()},[E]),O=h.useCallback(()=>{o(!1),c(null),requestAnimationFrame(()=>{var T;(T=v.current)==null||T.focus()})},[]);return{open:n,items:a,activeItemIndex:y,registerItem:_,unregisterItem:d,focusItemAt:L,openMenu:V,closeMenu:O}}const Ee=h.forwardRef((t,n)=>{const{children:o,activeKey:a,onSelect:u,hidden:y,placement:c,menuClass:v,..._}=t,d=Fe(n),E=ve("menu-"),M=Ve(d),H=T=>{const S=`rotateX(${T}deg)`;return c&&c.includes("center")?`${S} translateX(-50%)`:S},L={opacity:1,visibility:"visible",transform:H(0)},V={opacity:0,visibility:"hidden",transform:H(40)},O=V;return g.jsx(vt,{value:{activeKey:a,onSelect:u},children:g.jsx(Be,{value:M,children:g.jsx(ut,{mode:"wait",children:!y&&g.jsx(ct.ul,{ref:d,id:E,initial:O,animate:L,exit:V,transition:{duration:.15,type:"tween"},className:v,..._,children:o})})})})});Ee.displayName="DropdownInnerMenu";const pe=h.createContext(null);pe.Provider;pe.Consumer;const Le=h.forwardRef((t,n)=>{const{asElement:o="div",children:a,className:u,disabled:y,eventKey:c,isActive:v,menuItemHeight:_=35,onSelect:d,style:E,variant:M="light",...H}=t,L="menu-item-active",V="menu-item-hoverable",O="menu-item-disabled",T=Y("menu-item",`menu-item-${M}`,v&&L,y&&O,!y&&V,u),S=z=>{d&&d(c,z)};return g.jsx(o,{ref:n,className:T,style:{height:`${_}px`,...E},onClick:S,...H,children:a})});Le.displayName="BaseMenuItem";const{DEFAULT:mt,DIVIDER:Ne,HEADER:Me,CUSTOM:Ce}=it,We=h.forwardRef((t,n)=>{const{asElement:o="li",children:a,active:u,disabled:y,className:c,submenu:v,style:_,eventKey:d,onClick:E,onSelect:M,variant:H=mt,...L}=t,{mode:V,direction:O}=at(),T=Fe(n),S=ve("menu-item-"),z=h.useRef(null),D=h.useContext(pe),w=h.useContext(ze),j=h.useContext(ge),x=Ve(z),Q=x.open,A=u||!he(w==null?void 0:w.activeKey)&&(w==null?void 0:w.activeKey)===d||!he(D==null?void 0:D.activeKey)&&(D==null?void 0:D.activeKey)===d,U=h.useCallback(()=>{v&&(x.openMenu(),x.focusItemAt(0))},[v,x]),ee=h.useCallback(e=>{var b;M==null||M(d,e),(b=w==null?void 0:w.onSelect)==null||b.call(w,d,e)},[d,M,w]),G=h.useCallback(e=>{y||(v?U():ee(e))},[y,v,U,ee]),p=h.useCallback(()=>{v&&x.openMenu()},[v,x]),m=h.useCallback(()=>{v&&x.closeMenu()},[v,x]),l={onClick:ie(G,E)},{registerItem:r,unregisterItem:i}=j??{};if(v&&(l.onMouseOver=p,l.onMouseOut=m),h.useEffect(()=>(H!==Ne&&H!==Me&&(r==null||r(T.current,{disabled:y})),()=>{i==null||i(S)}),[r,i,T,S,y,H]),H===Ne||H===Me||H===Ce)return g.jsx(o,{ref:T,id:S,style:_,className:Y(`menu-item-${H}`,c),...H===Ce?l:{},...L,children:(H===Me||H===Ce)&&a});function s(){return h.isValidElement(a)?h.cloneElement(a):a}function f(){return v?g.jsx(Be,{value:x,children:h.cloneElement(v,{ref:z,hidden:!Q})}):null}return v?g.jsxs("li",{...L,style:_,className:"relative",...l,children:[g.jsxs(Le,{ref:T,asElement:"div",id:S,isActive:A,eventKey:d,variant:V,className:Y("dropdown-submenu-item",c),children:[g.jsx("span",{children:a}),O==="rtl"?g.jsx(je,{}):g.jsx(Ue,{})]}),f()]}):g.jsxs(Le,{ref:T,asElement:"li",style:_,isActive:A,disabled:y,eventKey:d,variant:V,className:c,...l,...L,children:[s(),f()]})});We.displayName="DropdownItem";const Oe=h.forwardRef((t,n)=>{const{eventKey:o,title:a,className:u,placement:y,...c}=t,v=h.useContext(ze),_="dropdown-menu",E=Y(_,y,u),M=Y(_,"dropdown-submenu"),H=g.jsx(Ee,{ref:n,className:M,placement:y,...c});if(v){const L=Y(u);return g.jsx(We,{className:L,submenu:H,eventKey:o,children:a})}return g.jsx(Ee,{ref:n,className:E,placement:y,...c})});Oe.displayName="DropdownMenu";const gt=({placement:t,children:n})=>t&&t.includes("middle-start")?g.jsxs(g.Fragment,{children:[n,g.jsx(Ue,{})]}):t&&t.includes("middle-end")?g.jsxs(g.Fragment,{children:[g.jsx(je,{}),n]}):t&&t.includes("top")?g.jsxs(g.Fragment,{children:[n,g.jsx(dt,{})]}):g.jsxs(g.Fragment,{children:[n,g.jsx(ft,{})]}),$e=h.forwardRef((t,n)=>{const{className:o,renderTitle:a,children:u,placement:y="bottom-start",disabled:c,toggleClassName:v,..._}=t,M=Y("dropdown-toggle",o,v,c&&"dropdown-toggle-disabled"),H=Y(M,"dropdown-toggle-default");return a?g.jsx("div",{className:M,..._,ref:n,children:a}):g.jsx("div",{ref:n,className:H,..._,children:g.jsx("span",{className:"flex items-center",children:g.jsx(gt,{placement:y,children:u})})})});$e.displayName="DropdownToggle";function De(t,n){return Array.isArray(n)?n.indexOf(t)>=0:t===n}const{BOTTOM_START:pt}=lt,yt="click",bt="hover",Tt="context",Xe=h.forwardRef((t,n)=>{const{title:o,children:a,menuClass:u,menuStyle:y,disabled:c,renderTitle:v,placement:_=pt,activeKey:d,toggleClassName:E,trigger:M="click",style:H,onClick:L,onMouseEnter:V,onMouseLeave:O,onContextMenu:T,onSelect:S,onOpen:z,onClose:D,onToggle:w,...j}=t,x=h.useRef(null),Q=h.useRef(null),A=Ve(x),U=A.open,ee=ve("dropdown-toggle-"),G=ve("base-menu-"),p=h.useCallback(k=>{const C=typeof k>"u"?!U:k,R=C?z:D;R==null||R(),w==null||w(C),C?A.openMenu():A.closeMenu()},[D,z,w,U,A]),m=h.useCallback(k=>{k.preventDefault(),!c&&p()},[c,p]),l=h.useCallback(()=>{c||p(!0)},[c,p]),r=h.useCallback(()=>{c||p(!1)},[c,p]),i=(k,C)=>{S==null||S(k,C),p(!1)};st(()=>p(),{triggerTarget:Q,overlayTarget:x,disabled:!U,listenEscape:!1});const s={onMouseEnter:V,onMouseLeave:O},f={onClick:L,onContextMenu:T};De(yt,M)&&(f.onClick=ie(m,f.onClick)),De(Tt,M)&&(f.onContextMenu=ie(m,T)),De(bt,M)&&(s.onMouseEnter=ie(l,V),s.onMouseLeave=ie(r,O));const e=g.jsx($e,{...j,...f,ref:Q,id:ee,className:E,renderTitle:v,disabled:c,placement:_,children:o}),b=g.jsx(Oe,{ref:x,className:u,style:y,activeKey:d,hidden:!U,placement:_,id:G,onSelect:i,children:a});return g.jsx(pe.Provider,{value:{activeKey:d},children:g.jsxs("div",{...s,ref:n,style:H,className:"dropdown",children:[e,g.jsx(ge.Provider,{value:A,children:b})]})})});Xe.displayName="Dropdown";const qe=Xe;qe.Item=We;qe.Menu=Oe;var Ye={},Ke={},ye={exports:{}},le={exports:{}};(function(){var t,n,o,a,u,y;typeof performance<"u"&&performance!==null&&performance.now?le.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(le.exports=function(){return(t()-u)/1e6},n=process.hrtime,t=function(){var c;return c=n(),c[0]*1e9+c[1]},a=t(),y=process.uptime()*1e9,u=a-y):Date.now?(le.exports=function(){return Date.now()-o},o=Date.now()):(le.exports=function(){return new Date().getTime()-o},o=new Date().getTime())}).call(Pe);var St=le.exports,wt=St,B=typeof window>"u"?Pe:window,de=["moz","webkit"],re="AnimationFrame",ne=B["request"+re],se=B["cancel"+re]||B["cancelRequest"+re];for(var ae=0;!ne&&ae<de.length;ae++)ne=B[de[ae]+"Request"+re],se=B[de[ae]+"Cancel"+re]||B[de[ae]+"CancelRequest"+re];if(!ne||!se){var xe=0,Ie=0,Z=[],kt=1e3/60;ne=function(t){if(Z.length===0){var n=wt(),o=Math.max(0,kt-(n-xe));xe=o+n,setTimeout(function(){var a=Z.slice(0);Z.length=0;for(var u=0;u<a.length;u++)if(!a[u].cancelled)try{a[u].callback(xe)}catch(y){setTimeout(function(){throw y},0)}},Math.round(o))}return Z.push({handle:++Ie,callback:t,cancelled:!1}),Ie},se=function(t){for(var n=0;n<Z.length;n++)Z[n].handle===t&&(Z[n].cancelled=!0)}}ye.exports=function(t){return ne.call(B,t)};ye.exports.cancel=function(){se.apply(B,arguments)};ye.exports.polyfill=function(t){t||(t=B),t.requestAnimationFrame=ne,t.cancelAnimationFrame=se};var Ht=ye.exports,be={exports:{}},_e=null,Ae=["Webkit","Moz","O","ms"],Mt=function(n){_e||(_e=document.createElement("div"));var o=_e.style;if(n in o)return n;for(var a=n.charAt(0).toUpperCase()+n.slice(1),u=Ae.length;u>=0;u--){var y=Ae[u]+a;if(y in o)return y}return!1},Ct=Et,Dt=/\s/,xt=/(_|-|\.|:)/,_t=/([a-z][A-Z]|[A-Z][a-z])/;function Et(t){return Dt.test(t)?t.toLowerCase():xt.test(t)?(zt(t)||t).toLowerCase():_t.test(t)?Wt(t).toLowerCase():t.toLowerCase()}var Lt=/[\W_]+(.|$)/g;function zt(t){return t.replace(Lt,function(n,o){return o?" "+o:""})}var Vt=/(.)([A-Z]+)/g;function Wt(t){return t.replace(Vt,function(n,o,a){return o+" "+a.toLowerCase().split("").join(" ")})}var Ot=Ct,Rt=Nt;function Nt(t){return Ot(t).replace(/[\W_]+(.|$)/g,function(n,o){return o?" "+o:""}).trim()}var It=Rt,At=Pt;function Pt(t){return It(t).replace(/\s(\w)/g,function(n,o){return o.toUpperCase()})}var Ft={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},jt=function(t,n){return typeof n=="number"&&!Ft[t]?n+"px":n},Ut=Mt,Bt=At,fe={float:"cssFloat"},$t=jt;function me(t,n,o){var a=fe[n];if(typeof a>"u"&&(a=qt(n)),a){if(o===void 0)return t.style[a];t.style[a]=$t(a,o)}}function Xt(t,n){for(var o in n)n.hasOwnProperty(o)&&me(t,o,n[o])}function qt(t){var n=Bt(t),o=Ut(n);return fe[n]=fe[t]=fe[o]=o,o}function Ge(){arguments.length===2?typeof arguments[1]=="string"?arguments[0].style.cssText=arguments[1]:Xt(arguments[0],arguments[1]):me(arguments[0],arguments[1],arguments[2])}be.exports=Ge;be.exports.set=Ge;be.exports.get=function(t,n){return Array.isArray(n)?n.reduce(function(o,a){return o[a]=me(t,a||""),o},{}):me(t,n||"")};var Ze=be.exports,Je={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(o){return typeof o=="string"}})(Je);var Qe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var n=Ze,o=a(n);function a(c){return c&&c.__esModule?c:{default:c}}var u=!1;function y(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(c&&u!==!1)return u;if(typeof document<"u"){var v=document.createElement("div");(0,o.default)(v,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(v),u=v.offsetWidth-v.clientWidth,document.body.removeChild(v)}else u=0;return u||0}})(Qe);var et={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(){return!1}})(et);var tt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(o){var a=o.clientWidth,u=getComputedStyle(o),y=u.paddingLeft,c=u.paddingRight;return a-parseFloat(y)-parseFloat(c)}})(tt);var rt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(o){var a=o.clientHeight,u=getComputedStyle(o),y=u.paddingTop,c=u.paddingBottom;return a-parseFloat(y)-parseFloat(c)}})(rt);var W={};Object.defineProperty(W,"__esModule",{value:!0});W.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"};W.containerStyleAutoHeight={height:"auto"};W.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};W.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};W.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};W.trackHorizontalStyleDefault={position:"absolute",height:6};W.trackVerticalStyleDefault={position:"absolute",width:6};W.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};W.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};W.disableSelectStyle={userSelect:"none"};W.disableSelectStyleReset={userSelect:""};var J={};Object.defineProperty(J,"__esModule",{value:!0});var K=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t};J.renderViewDefault=Gt;J.renderTrackHorizontalDefault=Zt;J.renderTrackVerticalDefault=Jt;J.renderThumbHorizontalDefault=Qt;J.renderThumbVerticalDefault=er;var Yt=h,ue=Kt(Yt);function Kt(t){return t&&t.__esModule?t:{default:t}}function Te(t,n){var o={};for(var a in t)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=t[a]);return o}function Gt(t){return ue.default.createElement("div",t)}function Zt(t){var n=t.style,o=Te(t,["style"]),a=K({},n,{right:2,bottom:2,left:2,borderRadius:3});return ue.default.createElement("div",K({style:a},o))}function Jt(t){var n=t.style,o=Te(t,["style"]),a=K({},n,{right:2,bottom:2,top:2,borderRadius:3});return ue.default.createElement("div",K({style:a},o))}function Qt(t){var n=t.style,o=Te(t,["style"]),a=K({},n,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return ue.default.createElement("div",K({style:a},o))}function er(t){var n=t.style,o=Te(t,["style"]),a=K({},n,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return ue.default.createElement("div",K({style:a},o))}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(p){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(p[r]=l[r])}return p},o=function(){function p(m,l){for(var r=0;r<l.length;r++){var i=l[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,l,r){return l&&p(m.prototype,l),r&&p(m,r),m}}(),a=Ht,u=x(a),y=Ze,c=x(y),v=h,_=ht,d=x(_),E=Je,M=x(E),H=Qe,L=x(H),V=et,O=x(V),T=tt,S=x(T),z=rt,D=x(z),w=W,j=J;function x(p){return p&&p.__esModule?p:{default:p}}function Q(p,m){var l={};for(var r in p)m.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(p,r)&&(l[r]=p[r]);return l}function A(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function U(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function ee(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var G=function(p){ee(m,p);function m(l){var r;A(this,m);for(var i=arguments.length,s=Array(i>1?i-1:0),f=1;f<i;f++)s[f-1]=arguments[f];var e=U(this,(r=m.__proto__||Object.getPrototypeOf(m)).call.apply(r,[this,l].concat(s)));return e.getScrollLeft=e.getScrollLeft.bind(e),e.getScrollTop=e.getScrollTop.bind(e),e.getScrollWidth=e.getScrollWidth.bind(e),e.getScrollHeight=e.getScrollHeight.bind(e),e.getClientWidth=e.getClientWidth.bind(e),e.getClientHeight=e.getClientHeight.bind(e),e.getValues=e.getValues.bind(e),e.getThumbHorizontalWidth=e.getThumbHorizontalWidth.bind(e),e.getThumbVerticalHeight=e.getThumbVerticalHeight.bind(e),e.getScrollLeftForOffset=e.getScrollLeftForOffset.bind(e),e.getScrollTopForOffset=e.getScrollTopForOffset.bind(e),e.scrollLeft=e.scrollLeft.bind(e),e.scrollTop=e.scrollTop.bind(e),e.scrollToLeft=e.scrollToLeft.bind(e),e.scrollToTop=e.scrollToTop.bind(e),e.scrollToRight=e.scrollToRight.bind(e),e.scrollToBottom=e.scrollToBottom.bind(e),e.handleTrackMouseEnter=e.handleTrackMouseEnter.bind(e),e.handleTrackMouseLeave=e.handleTrackMouseLeave.bind(e),e.handleHorizontalTrackMouseDown=e.handleHorizontalTrackMouseDown.bind(e),e.handleVerticalTrackMouseDown=e.handleVerticalTrackMouseDown.bind(e),e.handleHorizontalThumbMouseDown=e.handleHorizontalThumbMouseDown.bind(e),e.handleVerticalThumbMouseDown=e.handleVerticalThumbMouseDown.bind(e),e.handleWindowResize=e.handleWindowResize.bind(e),e.handleScroll=e.handleScroll.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.state={didMountUniversal:!1},e}return o(m,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){var r=this.props.universal;r&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,a.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var r=this.view||{},i=r.scrollLeft,s=i===void 0?0:i,f=r.scrollTop,e=f===void 0?0:f,b=r.scrollWidth,k=b===void 0?0:b,C=r.scrollHeight,R=C===void 0?0:C,P=r.clientWidth,$=P===void 0?0:P,N=r.clientHeight,F=N===void 0?0:N;return{left:s/(k-$)||0,top:e/(R-F)||0,scrollLeft:s,scrollTop:e,scrollWidth:k,scrollHeight:R,clientWidth:$,clientHeight:F}}},{key:"getThumbHorizontalWidth",value:function(){var r=this.props,i=r.thumbSize,s=r.thumbMinSize,f=this.view,e=f.scrollWidth,b=f.clientWidth,k=(0,S.default)(this.trackHorizontal),C=Math.ceil(b/e*k);return k<=C?0:i||Math.max(C,s)}},{key:"getThumbVerticalHeight",value:function(){var r=this.props,i=r.thumbSize,s=r.thumbMinSize,f=this.view,e=f.scrollHeight,b=f.clientHeight,k=(0,D.default)(this.trackVertical),C=Math.ceil(b/e*k);return k<=C?0:i||Math.max(C,s)}},{key:"getScrollLeftForOffset",value:function(r){var i=this.view,s=i.scrollWidth,f=i.clientWidth,e=(0,S.default)(this.trackHorizontal),b=this.getThumbHorizontalWidth();return r/(e-b)*(s-f)}},{key:"getScrollTopForOffset",value:function(r){var i=this.view,s=i.scrollHeight,f=i.clientHeight,e=(0,D.default)(this.trackVertical),b=this.getThumbVerticalHeight();return r/(e-b)*(s-f)}},{key:"scrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollLeft=r)}},{key:"scrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollTop=r)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if(!(typeof document>"u"||!this.view)){var r=this.view,i=this.trackHorizontal,s=this.trackVertical,f=this.thumbHorizontal,e=this.thumbVertical;r.addEventListener("scroll",this.handleScroll),(0,L.default)()&&(i.addEventListener("mouseenter",this.handleTrackMouseEnter),i.addEventListener("mouseleave",this.handleTrackMouseLeave),i.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),s.addEventListener("mouseenter",this.handleTrackMouseEnter),s.addEventListener("mouseleave",this.handleTrackMouseLeave),s.addEventListener("mousedown",this.handleVerticalTrackMouseDown),f.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),e.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if(!(typeof document>"u"||!this.view)){var r=this.view,i=this.trackHorizontal,s=this.trackVertical,f=this.thumbHorizontal,e=this.thumbVertical;r.removeEventListener("scroll",this.handleScroll),(0,L.default)()&&(i.removeEventListener("mouseenter",this.handleTrackMouseEnter),i.removeEventListener("mouseleave",this.handleTrackMouseLeave),i.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),s.removeEventListener("mouseenter",this.handleTrackMouseEnter),s.removeEventListener("mouseleave",this.handleTrackMouseLeave),s.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),f.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),e.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(r){var i=this,s=this.props,f=s.onScroll,e=s.onScrollFrame;f&&f(r),this.update(function(b){var k=b.scrollLeft,C=b.scrollTop;i.viewScrollLeft=k,i.viewScrollTop=C,e&&e(b)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var r=this.props.onScrollStart;r&&r(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var r=this.props.autoHide;r&&this.showTracks()}},{key:"handleScrollStop",value:function(){var r=this.props.onScrollStop;r&&r(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var r=this.props.autoHide;r&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,L.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(r){r.preventDefault();var i=r.target,s=r.clientX,f=i.getBoundingClientRect(),e=f.left,b=this.getThumbHorizontalWidth(),k=Math.abs(e-s)-b/2;this.view.scrollLeft=this.getScrollLeftForOffset(k)}},{key:"handleVerticalTrackMouseDown",value:function(r){r.preventDefault();var i=r.target,s=r.clientY,f=i.getBoundingClientRect(),e=f.top,b=this.getThumbVerticalHeight(),k=Math.abs(e-s)-b/2;this.view.scrollTop=this.getScrollTopForOffset(k)}},{key:"handleHorizontalThumbMouseDown",value:function(r){r.preventDefault(),this.handleDragStart(r);var i=r.target,s=r.clientX,f=i.offsetWidth,e=i.getBoundingClientRect(),b=e.left;this.prevPageX=f-(s-b)}},{key:"handleVerticalThumbMouseDown",value:function(r){r.preventDefault(),this.handleDragStart(r);var i=r.target,s=r.clientY,f=i.offsetHeight,e=i.getBoundingClientRect(),b=e.top;this.prevPageY=f-(s-b)}},{key:"setupDragging",value:function(){(0,c.default)(document.body,w.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=O.default}},{key:"teardownDragging",value:function(){(0,c.default)(document.body,w.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(r){this.dragging=!0,r.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(r){if(this.prevPageX){var i=r.clientX,s=this.trackHorizontal.getBoundingClientRect(),f=s.left,e=this.getThumbHorizontalWidth(),b=e-this.prevPageX,k=-f+i-b;this.view.scrollLeft=this.getScrollLeftForOffset(k)}if(this.prevPageY){var C=r.clientY,R=this.trackVertical.getBoundingClientRect(),P=R.top,$=this.getThumbVerticalHeight(),N=$-this.prevPageY,F=-P+C-N;this.view.scrollTop=this.getScrollTopForOffset(F)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var r=this.props.autoHide;r&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var r=this.props.autoHide;r&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var r=this.props.autoHide;r&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,c.default)(this.trackHorizontal,{opacity:1}),(0,c.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var r=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var i=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,c.default)(r.trackHorizontal,{opacity:0}),(0,c.default)(r.trackVertical,{opacity:0})},i)}}},{key:"detectScrolling",value:function(){var r=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){r.lastViewScrollLeft===r.viewScrollLeft&&r.lastViewScrollTop===r.viewScrollTop&&(clearInterval(r.detectScrollingInterval),r.scrolling=!1,r.handleScrollStop()),r.lastViewScrollLeft=r.viewScrollLeft,r.lastViewScrollTop=r.viewScrollTop},100))}},{key:"raf",value:function(r){var i=this;this.requestFrame&&u.default.cancel(this.requestFrame),this.requestFrame=(0,u.default)(function(){i.requestFrame=void 0,r()})}},{key:"update",value:function(r){var i=this;this.raf(function(){return i._update(r)})}},{key:"_update",value:function(r){var i=this.props,s=i.onUpdate,f=i.hideTracksWhenNotNeeded,e=this.getValues();if((0,L.default)()){var b=e.scrollLeft,k=e.clientWidth,C=e.scrollWidth,R=(0,S.default)(this.trackHorizontal),P=this.getThumbHorizontalWidth(),$=b/(C-k)*(R-P),N={width:P,transform:"translateX("+$+"px)"},F=e.scrollTop,X=e.clientHeight,q=e.scrollHeight,Se=(0,D.default)(this.trackVertical),ce=this.getThumbVerticalHeight(),we=F/(q-X)*(Se-ce),te={height:ce,transform:"translateY("+we+"px)"};if(f){var ke={visibility:C>k?"visible":"hidden"},He={visibility:q>X?"visible":"hidden"};(0,c.default)(this.trackHorizontal,ke),(0,c.default)(this.trackVertical,He)}(0,c.default)(this.thumbHorizontal,N),(0,c.default)(this.thumbVertical,te)}s&&s(e),typeof r=="function"&&r(e)}},{key:"render",value:function(){var r=this,i=(0,L.default)(),s=this.props;s.onScroll,s.onScrollFrame,s.onScrollStart,s.onScrollStop,s.onUpdate;var f=s.renderView,e=s.renderTrackHorizontal,b=s.renderTrackVertical,k=s.renderThumbHorizontal,C=s.renderThumbVertical,R=s.tagName;s.hideTracksWhenNotNeeded;var P=s.autoHide;s.autoHideTimeout;var $=s.autoHideDuration;s.thumbSize,s.thumbMinSize;var N=s.universal,F=s.autoHeight,X=s.autoHeightMin,q=s.autoHeightMax,Se=s.style,ce=s.children,we=Q(s,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),te=this.state.didMountUniversal,ke=n({},w.containerStyleDefault,F&&n({},w.containerStyleAutoHeight,{minHeight:X,maxHeight:q}),Se),He=n({},w.viewStyleDefault,{marginRight:i?-i:0,marginBottom:i?-i:0},F&&n({},w.viewStyleAutoHeight,{minHeight:(0,M.default)(X)?"calc("+X+" + "+i+"px)":X+i,maxHeight:(0,M.default)(q)?"calc("+q+" + "+i+"px)":q+i}),F&&N&&!te&&{minHeight:X,maxHeight:q},N&&!te&&w.viewStyleUniversalInitial),Re={transition:"opacity "+$+"ms",opacity:0},nt=n({},w.trackHorizontalStyleDefault,P&&Re,(!i||N&&!te)&&{display:"none"}),ot=n({},w.trackVerticalStyleDefault,P&&Re,(!i||N&&!te)&&{display:"none"});return(0,v.createElement)(R,n({},we,{style:ke,ref:function(I){r.container=I}}),[(0,v.cloneElement)(f({style:He}),{key:"view",ref:function(I){r.view=I}},ce),(0,v.cloneElement)(e({style:nt}),{key:"trackHorizontal",ref:function(I){r.trackHorizontal=I}},(0,v.cloneElement)(k({style:w.thumbHorizontalStyleDefault}),{ref:function(I){r.thumbHorizontal=I}})),(0,v.cloneElement)(b({style:ot}),{key:"trackVertical",ref:function(I){r.trackVertical=I}},(0,v.cloneElement)(C({style:w.thumbVerticalStyleDefault}),{ref:function(I){r.thumbVertical=I}}))])}}]),m}(v.Component);t.default=G,G.propTypes={onScroll:d.default.func,onScrollFrame:d.default.func,onScrollStart:d.default.func,onScrollStop:d.default.func,onUpdate:d.default.func,renderView:d.default.func,renderTrackHorizontal:d.default.func,renderTrackVertical:d.default.func,renderThumbHorizontal:d.default.func,renderThumbVertical:d.default.func,tagName:d.default.string,thumbSize:d.default.number,thumbMinSize:d.default.number,hideTracksWhenNotNeeded:d.default.bool,autoHide:d.default.bool,autoHideTimeout:d.default.number,autoHideDuration:d.default.number,autoHeight:d.default.bool,autoHeightMin:d.default.oneOfType([d.default.number,d.default.string]),autoHeightMax:d.default.oneOfType([d.default.number,d.default.string]),universal:d.default.bool,style:d.default.object,children:d.default.node},G.defaultProps={renderView:j.renderViewDefault,renderTrackHorizontal:j.renderTrackHorizontalDefault,renderTrackVertical:j.renderTrackVerticalDefault,renderThumbHorizontal:j.renderThumbHorizontalDefault,renderThumbVertical:j.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}})(Ke);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var n=Ke,o=a(n);function a(u){return u&&u.__esModule?u:{default:u}}t.default=o.default,t.Scrollbars=o.default})(Ye);const tr=h.forwardRef((t,n)=>{const{direction:o="ltr",...a}=t;return g.jsx(Ye.Scrollbars,{ref:n,renderView:u=>g.jsx("div",{...u,style:{...u.style,...o==="rtl"&&{marginLeft:u.style.marginRight,marginRight:0}}}),...a})});tr.displayName="ScrollBar";export{qe as D,Le as M,tr as S};
