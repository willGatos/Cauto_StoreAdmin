import{r as i,az as st,c as nt,j as a,aA as rt}from"./index-e9055987.js";import{u as it,a as ot}from"./Button-ba65fcd6.js";import{i as ut}from"./Views-51136580.js";import{i as E}from"./isNil-1a93575e.js";import{g as b}from"./get-c3140d19.js";const w=i.forwardRef((p,A)=>{var j,R;const{asElement:W="input",className:g,disabled:$,invalid:m,prefix:s,size:F,suffix:n,textArea:x,type:L="text",rows:P,style:S,unstyle:T=!1,field:f,form:h,...C}=p,[O,V]=i.useState(0),[D,M]=i.useState(0),{themeColor:l,controlSize:Z,primaryColorLevel:c,direction:y}=st(),_=(j=it())==null?void 0:j.size,k=(R=ot())==null?void 0:R.size,z=F||k||_||Z,q=t=>typeof t>"u"||t===null?"":t;"value"in p&&(C.value=q(p.value),delete C.defaultValue);const v=i.useMemo(()=>{let t=!1;if(!ut(h)){const{touched:r,errors:e}=h,d=b(r,f.name),et=b(e,f.name);t=d&&et}return typeof m=="boolean"&&(t=m),t},[h,m,f]),B="input",H=`input-${z} h-${rt[z]}`,J=`focus:ring-${l}-${c} focus-within:ring-${l}-${c} focus-within:border-${l}-${c} focus:border-${l}-${c}`,K=`input-wrapper ${s||n?g:""}`,Q=nt(B,!x&&H,!v&&J,!s&&!n?g:"",$&&"input-disabled",v&&"input-invalid",x&&"input-textarea"),o=i.useRef(null),u=i.useRef(null),U=()=>{var e,d;if(!o.current&&!u.current)return;const t=(e=o==null?void 0:o.current)==null?void 0:e.offsetWidth,r=(d=u==null?void 0:u.current)==null?void 0:d.offsetWidth;E(t)&&E(r)||(t&&V(t),r&&M(r))};i.useEffect(()=>{U()},[s,n]);const G=t=>.0625*t,X=()=>{const t=`${G(O)+1}rem`,r=`${G(D)+1}rem`,e={};return y==="ltr"&&(s&&(e.paddingLeft=t),n&&(e.paddingRight=r)),y==="rtl"&&(s&&(e.paddingRight=t),n&&(e.paddingLeft=r)),e},I={className:T?"":Q,disabled:$,type:L,ref:A,...f,...C},Y=a.jsx("textarea",{style:S,rows:P,...I}),N=a.jsx(W,{style:{...X(),...S},...I}),tt=a.jsxs("span",{className:K,children:[s?a.jsxs("div",{ref:o,className:"input-suffix-start",children:[" ",s," "]}):null,N,n?a.jsx("div",{ref:u,className:"input-suffix-end",children:n}):null]});return(()=>x?Y:s||n?tt:N)()});w.displayName="Input";const mt=w;export{mt as I};
